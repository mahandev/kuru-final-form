<!DOCTYPE html>
<html lang="en">
<head>
    <title>FLAME Kurukshetra 2025 Registration Form</title>
    <link rel="stylesheet" href="{{ url_for('static', filename = 'style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename = 'kurukshetra.png') }}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    <link
    href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css"
    rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body class="bg-black">
    <div class="flex flex-col justify-center items-center h-max">
        <div class="flex justify-between p-6 items-center header-img-logo">
            <img class="w-[320px] md:w-[475px]" src="{{ url_for('static', filename = 'logo.png') }}" alt="Kurukshetra 2025">
        </div>
        <nav class="flex py-4" aria-label="Breadcrumb">
            <ol class="inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse">
              <li class="inline-flex items-center">
                <a href="{{url_for('main')}}" class="inline-flex items-center text-xs md:text-lg font-medium hover:text-blue-600 text-gray-400 hover:text-white">
                  <svg class="w-3 h-3 me-2.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                    <path d="m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"/>
                  </svg>
                  User Details
                </a>
              </li>
              <li>
                <div class="flex items-center">
                  <svg class="rtl:rotate-180 w-3 h-3 text-gray-400 mx-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                  </svg>
                  <a href="{{url_for('choose_areas')}}" class="ms-1 text-xs md:text-lg font-medium hover:text-blue-600 md:ms-2 text-gray-400 hover:text-white">Choose Areas</a>
                </div>
              </li>
              <li>
                <div class="flex items-center">
                  <svg class="rtl:rotate-180 w-3 h-3 text-gray-400 mx-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                  </svg>
                  <span class="ms-1 text-xs md:text-lg font-medium md:ms-2 text-gray-400">Choose Events</span>
                </div>
              </li>
              <li aria-current="page">
                <div class="flex items-center">
                  <svg class="rtl:rotate-180 w-3 h-3 text-gray-400 mx-1" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 6 10">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
                  </svg>
                  <span class="ms-1 text-xs md:text-lg font-medium 0 md:ms-2 text-red-800 ">Summary<span>
                </div>
              </li>
            </ol>
          </nav>
        <div
          class="border-x border-y p-8 rounded-lg drop-shadow-lg border-slate-400 flex flex-col max-w-[900px] justify-between items-center p-4 leading-normal bg-[#1E1E1E]"
        >
        <div class="wrapper">
            <h1 class="text-4xl text-center md:text-5xl mb-4 font-extrabold text-white">
                Select Events
            </h1>
            <form action="{{ url_for('submit') }}" method="post">
                <div class="flex flex-col justify-center items-center gap-16">
                    <div class="">
                        {% if 'sports' in chosen_categories %}
                        <fieldset>
                        <legend class="mb-4 mt-1 text-black font-bold text-center bg-[#FF5F1F] p-2">Sports Events</legend>
                            <div class="container">
                                <div class="row">
                                    {% for sport in sport_names %}
                                    <div class="col-md-6 mb-8 md:mb-16">
                                        <h4 class="text-lg mb-2 font-medium text-[#FF5F1F]">{{ sport }}</h4>
                                        {% for category in sport_categories[sport] %}
                                        <div class="block flex form__group" >
                                            <input  type="checkbox" id="sports" name="sports" value="{{ sport }}-{{ category }}" class="cursor-pointer mt-1 w-5 h-5 text-[#FF5F1F] rounded focus:ring-[#FF5F1F] dark:focus:ring-[#FF5F1F] dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                                            >
                                            <label for="{{ category }}" class="mb-2 ml-2 text-sm text-white"
                                            >{{ category }} ₹{{ sports_name_data[sport][category]["price"] }}</label>
                                        </div>
                                        {% endfor %}
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        {% endif %}
                    <!-- </div> -->
                <div class="">
            {% if 'culturals' in chosen_categories %}
            <fieldset>
                <legend class="mb-4 mt-1 text-black font-bold text-center bg-[#FF5F1F] p-2">Cultural Events</legend>
                <div class="container">
                    <div class="row">
                        {% for cultural in cultural_names %}
                        <div class="col-md-6 mb-8 md:mb-16">
                            <h4 class="text-lg mb-2 font-medium text-[#FF5F1F]">{{ cultural }}</h4>
                            {% for category in cultural_categories[cultural] %}
                            <div class="block flex form__group" >
                                <input  type="checkbox" id="cultural" name="culturals" value="{{ cultural }}-{{ category }}" class="cursor-pointer w-5 h-5 text-[#FF5F1F] rounded focus:ring-[#FF5F1F] dark:focus:ring-[#FF5F1F] dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                                >
                                <label for="{{ category }}" class="mb-2 ml-2 text-sm text-white"
                                >{{ category }} ₹{{ cultural_name_data[cultural][category]["price"] }}</label>
                            </div>
                            {% endfor %}
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </fieldset>
            {% endif %}
        </div>
        <div class="">
            {% if 'management' in chosen_categories %}
            <fieldset>
                <legend class="mb-4 mt-1 text-black font-bold text-center bg-[#FF5F1F] p-2">Management Events</legend>
                <div class="container">
                    <div class="row">
                        {% for management in management_names %}
                        <div class="col-md-6 mb-8 md:mb-16">
                            <h4 class="text-lg mb-2 font-medium text-[#FF5F1F]">{{ management }}</h4>
                            {% for category in management_categories[management] %}
                            <div class="flex form__group md:w-[330px]" >
                              {% if category == "MUN Team" or category == "MUN Solo"%}
                                <input  type="checkbox" id="management" name="management" value="{{ management }}-{{ category }}" class="MUN cursor-pointer w-5 h-5 text-[#FF5F1F] rounded focus:ring-[#FF5F1F] dark:focus:ring-[#FF5F1F] dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                                >
                              {% else %}
                              <input  type="checkbox" id="management" name="management" value="{{ management }}-{{ category }}" class="cursor-pointer w-5 h-5 text-[#FF5F1F] rounded focus:ring-[#FF5F1F] dark:focus:ring-[#FF5F1F] dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"
                              >
                              {% endif %}
                                <label for="{{ category }}" class="mb-2 ml-2 text-sm text-white"
                                >{{ category }} ₹{{ management_name_data[management][category]["price"] }}</label>
                            </div>
                            {% endfor %}
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </fieldset>
            {% endif %}
        </div>
        </div>
    </div>
            
        <input
        type="submit"
        value="Next"
        class="cursor-pointer text-white text-center focus:bg-[#ff51f] focus:ring-1 focus:outline-none focus:ring-[#FF7F50] rounded-lg text-xl font-medium px-5 py-4 text-center bg-[#FF5F1F] hover:bg-[#EC5800] w-[300px] max-w-[350px] me-2 mb-2"
      />
        </form>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
<script>
        const mun_nodes = document.querySelectorAll(".MUN")
        const mun_modal = document.querySelector(".mun-modal")

        mun_nodes.forEach(node => {
            node.addEventListener("change", () => {
                mun_nodes.forEach(cb => {
                    if (cb !== node) {
                        cb.checked = false
                    }
                })
            })
        })

        document.querySelector("form").addEventListener("submit", (event) => {
        const sports_checkboxes = document.querySelectorAll("input[type='checkbox'][id='sports']");
        const cultural_checkboxes = document.querySelectorAll("input[type='checkbox'][id='cultural']");
        const management_checkboxes = document.querySelectorAll("input[type='checkbox'][id='management']");
        const isSportsChecked = Array.from(sports_checkboxes).some(checkbox => checkbox.checked);
        const isCulturalChecked = Array.from(cultural_checkboxes).some(checkbox => checkbox.checked);
        const isManagementChecked = Array.from(management_checkboxes).some(checkbox => checkbox.checked);

        console.log(sports_checkboxes)
        console.log(cultural_checkboxes)
        console.log(management_checkboxes)
        if (sports_checkboxes.length > 0) {
          if (!isSportsChecked) {
            event.preventDefault();
            alert("Please check sport")
          }
        }

        if (cultural_checkboxes.length > 0) {
          if (!isCulturalChecked) {
            event.preventDefault();
            alert("Please check cultural")
          }
        }

        if (management_checkboxes.length > 0  ) {
          if (!isManagementChecked) {
            event.preventDefault();
            alert("Please check management")
          }
        }
});

</script>
</body>
</html>
